<div class="flex h-screen font-montserrat"
     [ngStyle]="{
        'background-image': 'linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(assets/images/bg.jpg)', 
        'background-size': 'cover', 
        'background-position': 'center'
     }">

    <!-- Sidebar for conversation history -->
    <div class="m-4 w-1/5 rounded-xl backdrop-blur-sm bg-transparent text-white p-6 overflow-y-auto gradient-border-inverse">
        <div class="flex justify-between items-center mb-6">
            <!-- New Conversation Icon (Left) -->
            <fa-icon 
                [icon]="newConversationIcon" 
                class="text-2xl cursor-pointer hover:text-customBlue transition duration-200" 
                (click)="startNewConversation()">
            </fa-icon>
    
            <!-- Home Icon (Right) -->
            <fa-icon 
                [icon]="homeIcon" 
                class="text-2xl cursor-pointer hover:text-customBlue transition duration-200" 
                (click)="goHome()">
            </fa-icon>
        </div>

        <!-- Enhanced Conversation History -->
        <div class="space-y-6">
            <!-- Today's Conversations -->
            <div>
                <h2 class="text-lg font-semibold text-customBlue mb-2">Today</h2>
                <div class="space-y-2">
                    <div class="p-3 rounded-lg bg-gray-800 hover:bg-gray-700 cursor-pointer transition duration-200 shadow-md">
                        <p class="text-sm">Phishing Attack Prevention</p>
                    </div>
                    <div class="p-3 rounded-lg bg-gray-800 hover:bg-gray-700 cursor-pointer transition duration-200 shadow-md">
                        <p class="text-sm">Firewall Configuration</p>
                    </div>
                    <div class="p-3 rounded-lg bg-gray-800 hover:bg-gray-700 cursor-pointer transition duration-200 shadow-md">
                        <p class="text-sm">Zero Trust Security Models</p>
                    </div>
                    <div class="p-3 rounded-lg bg-gray-800 hover:bg-gray-700 cursor-pointer transition duration-200 shadow-md">
                        <p class="text-sm">Cloud Security Best Practices</p>
                    </div>
                </div>
            </div>

            <!-- Yesterday's Conversations -->
            <div>
                <h2 class="text-lg font-semibold text-gray-400 mb-2">Yesterday</h2>
                <div class="space-y-2">
                    <div class="p-3 rounded-lg bg-gray-700 hover:bg-gray-600 cursor-pointer transition duration-200 shadow-md">
                        <p class="text-sm">Malware Detection Strategies</p>
                    </div>
                    <div class="p-3 rounded-lg bg-gray-700 hover:bg-gray-600 cursor-pointer transition duration-200 shadow-md">
                        <p class="text-sm">Network Security Setup</p>
                    </div>
                    <div class="p-3 rounded-lg bg-gray-700 hover:bg-gray-600 cursor-pointer transition duration-200 shadow-md">
                        <p class="text-sm">Incident Response Planning</p>
                    </div>
                    <div class="p-3 rounded-lg bg-gray-700 hover:bg-gray-600 cursor-pointer transition duration-200 shadow-md">
                        <p class="text-sm">Ransomware Mitigation Tactics</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="w-4/5 flex flex-col p-4 transition-all duration-300">
       <!-- Header Section -->
    <div class="mb-6 mt-4 flex justify-between items-center">
        <h1 class="text-3xl font-semibold font-archivo text-customBlue flex-grow text-center">CyberGuard</h1>
        <!-- Logout Icon -->
        <fa-icon 
            [icon]="logoutIcon" 
            class="text-2xl cursor-pointer hover:text-red-500 transition duration-200 text-white" (click)="logout()">
        </fa-icon>
    </div>

        <!-- Main content area with blur effect -->
        <div class="backdrop-blur-sm bg-transparent rounded-xl gradient-border flex-grow p-6 overflow-y-auto scrollbar-custom flex flex-col">
            <!-- Message display area with scroll -->
            <div class="space-y-4 flex-grow overflow-y-auto">
                <div *ngFor="let message of messages" class="flex {{ message.isUser ? 'justify-end' : 'justify-start' }}">
                    <div class="w-fit" style="max-width: 40rem;">
                        <div 
                            class="rounded-3xl p-6 shadow-md" 
                            [ngClass]="message.isUser ? 'bg-gray-100' : 'bg-gray-800 text-white'">
                            <p>{{ message.text }}</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Input and send button at the bottom of the div -->
            <div class="p-4 bg-custom-gradient rounded-3xl mt-4 shadow-sm shadow-customBlue">
                <div class="flex">
                    <input 
                        type="text" 
                        [(ngModel)]="userInput" 
                        (keyup.enter)="sendMessage()" 
                        placeholder="Message CyberGuard" 
                        class="flex-grow rounded-lg bg-transparent px-4 mr-2 focus:outline-none text-white" 
                    />
                    <button (click)="sendMessage()" class="bg-customBlue text-black rounded-3xl px-4 mr-2 shadow-md hover:bg-[#48e8f0] transition duration-200">
                        <fa-icon [icon]="sendIcon"></fa-icon>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
